import{a as d,j as e,S as u,h as f,b as o,i as j,r as N,f as v,L as b,k as w}from"./index-a93640d1.js";import{B as y}from"./Breadcrumbs-b1ecdd5d.js";import{g as P,a as L}from"./productsSelectors-962bcfd5.js";import{S as k}from"./SkeletonList-331fcd91.js";const F=()=>{const i=d(),r=({currentTarget:t})=>{i(f(t.value))};return e.jsxs("div",{className:"flex gap-1",children:[e.jsx("label",{style:{marginRight:"14px"},htmlFor:"filter",children:e.jsx(u,{id:"icon-search",size:22})}),e.jsx("input",{id:"filter",type:"text",name:"input",required:!0,onChange:r,variant:"standard",className:"border-b-2 px-2 text-gray-800 border-gray-600 hover:outline-none focus:outline-none"})]})},S=({title:i})=>{const r=d(),t=o(P),x=o(L),c=o(j),h=s=>{let l;if(t)return l=t.filter(m=>m.name.toLowerCase().includes(c.toLowerCase())),c.trim()===""?s:l};N.useEffect(()=>{r(v())},[r]);const n=s=>{const g=s.map(a=>({timestamp:new Date(a.createdAt).getTime(),product:a})).sort((a,p)=>p.timestamp-a.timestamp).map(a=>a.product);return h(g)};return e.jsx("div",{className:"md:min-h-[400px]",children:e.jsxs("div",{className:"mx-auto max-w-2xl lg:max-w-7xl",children:[e.jsx("h2",{className:"mb-6 text-xl font-bold tracking-tight text-red-900 sm:text-2xl ",children:i}),t&&!x?e.jsx("div",{className:" grid grid-cols-2 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8 ",children:n(t).map(s=>e.jsxs(b,{to:`/categories/${w(s.category)}/${s._id}`,className:"group",children:[e.jsx("div",{className:"h-[200px] md:h-[250px] md:h-300px aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-lg bg-gray-200 xl:aspect-h-8 xl:aspect-w-7",children:e.jsx("img",{src:s.mainPhoto,alt:s.name,className:"h-full w-full object-cover object-center group-hover:opacity-75 sm:h-[280px]"})}),e.jsx("h3",{className:"mt-4 text-sm text-gray-700",children:s.name}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:s.category}),e.jsx("p",{className:"mt-1 text-lg font-medium text-gray-900",children:s.price})]},s._id))}):e.jsx("div",{children:e.jsx(k,{})}),n(t).length<=0&&e.jsx("div",{className:"w-full flex justify-center items-center mt-4",children:e.jsxs("p",{children:["По запросу ",e.jsx("span",{className:" font-bold",children:c})," ничего не найдено."]})})]})})},B=()=>e.jsxs("div",{className:"container",children:[e.jsx(y,{}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl pb-4",children:"Новые поступления:"}),e.jsx(F,{})]}),e.jsx(S,{})]})]});export{B as default};
