import{a as u,j as e,S as b,h as w,b as d,i as y,r as g,f as L,L as k,k as F,P as S,B as C}from"./index-7bea0780.js";import{g as E,a as R}from"./productsSelectors-962bcfd5.js";import{S as T}from"./SkeletonList-090cba22.js";const B=()=>{const l=u(),r=({currentTarget:s})=>{l(w(s.value))};return e.jsxs("div",{className:"flex gap-1",children:[e.jsx("label",{style:{marginRight:"14px"},htmlFor:"filter",children:e.jsx(b,{id:"icon-search",size:22})}),e.jsx("input",{id:"filter",type:"text",name:"input",required:!0,onChange:r,variant:"standard",className:"border-b-2 px-2 text-gray-800 border-gray-600 hover:outline-none focus:outline-none"})]})},D=({title:l})=>{const r=u(),s=d(E),p=d(R),n=d(y),[m,j]=g.useState(1),i=12,f=t=>{j(t.selected+1)},x=t=>c(t).slice((m-1)*i,m*i),N=t=>{let o;if(s)return o=s.filter(h=>h.name.toLowerCase().includes(n.toLowerCase())),n.trim()===""?t:o};g.useEffect(()=>{r(L())},[r]);const c=t=>{const v=t.map(a=>({timestamp:new Date(a.createdAt).getTime(),product:a})).sort((a,P)=>P.timestamp-a.timestamp).map(a=>a.product);return N(v)};return e.jsx("div",{className:"md:min-h-[400px]",children:e.jsxs("div",{className:"mx-auto max-w-2xl lg:max-w-7xl",children:[e.jsx("h2",{className:"mb-6 text-xl font-bold tracking-tight text-red-900 sm:text-2xl ",children:l}),x(s)&&!p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" grid grid-cols-2 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8 ",children:x(s).map(t=>e.jsxs(k,{to:`/categories/${F(t.category)}/${t._id}`,className:"group",children:[e.jsx("div",{className:"h-[200px] md:h-[250px] md:h-300px aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-lg bg-gray-200 xl:aspect-h-8 xl:aspect-w-7",children:e.jsx("img",{src:t.mainPhoto,alt:t.name,className:"h-full w-full object-cover object-center group-hover:opacity-75 sm:h-[280px]"})}),e.jsx("h3",{className:"mt-4 text-sm text-gray-700",children:t.name}),e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-900",children:t.category}),e.jsx("p",{className:"mt-1 text-lg font-medium text-gray-900",children:t.price})]},t._id))}),Math.ceil(c(s).length/i)>1&&e.jsx(S,{handleClickPage:f,totalPages:Math.ceil(c(s).length/i)})]}):e.jsx("div",{children:e.jsx(T,{})}),c(s).length<=0&&e.jsx("div",{className:"w-full flex justify-center items-center mt-4",children:e.jsxs("p",{children:["По запросу ",e.jsx("span",{className:" font-bold",children:n})," ничего не найдено."]})})]})})},_=()=>e.jsxs("div",{className:"container",children:[e.jsx(C,{}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl pb-4",children:"Новые поступления:"}),e.jsx(B,{})]}),e.jsx(D,{})]})]});export{_ as default};
