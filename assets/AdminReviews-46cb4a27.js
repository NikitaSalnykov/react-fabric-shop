import{d as g,u as c,v as j,n as y,K as N,r as x,w,j as e,e as v,f as k,a1 as R}from"./index-32e277d9.js";import{F as C}from"./Filter-5e9ea450.js";const P=()=>{const r=g(),s=c(j),l=c(y),b=c(N),[o,m]=x.useState(1),a=10;x.useEffect(()=>{r(w())},[r]);const p=t=>{m(t.selected+1)},n=t=>{if(!s)return t;const h=["author"];return t.filter(i=>h.some(d=>i[d].toLowerCase().includes(b.toLowerCase()))).sort((i,d)=>{const f=new Date(i.createdAt);return new Date(d.createdAt)-f})},u=t=>n(t).slice((o-1)*a,o*a);return e.jsx("div",{className:"mb-4 grid grid-cols-1 gap-6",children:e.jsxs("div",{className:"relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 shadow-md overflow-hidden lg:col-span-2",children:[e.jsxs("div",{className:"relative bg-clip-border rounded-xl overflow-hidden bg-transparent text-gray-700 shadow-none m-0 flex items-center justify-between p-6",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"block antialiased tracking-normal font-sans text-base font-semibold leading-relaxed text-blue-gray-900 mb-1",children:"Отзывы про товары"}),l?e.jsx("p",{className:" animate-pulse",children:"Идёт загрузка"}):e.jsxs("p",{className:"antialiased font-sans text-sm leading-normal flex items-center gap-1 font-normal text-blue-gray-600",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"currentColor","aria-hidden":"true",className:"h-4 w-4 text-blue-500",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),e.jsxs("strong",{children:[s.length," отзывов"]})," на сайте"]})]}),e.jsx("div",{children:e.jsx(C,{nameFilter:!0})})]}),e.jsxs("div",{className:"p-6 overflow-x-scroll px-0 pt-0 pb-[10px]",children:[e.jsxs("table",{className:"w-full min-w-[640px] table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"border-b border-blue-gray-50 py-3 px-6 text-left",children:e.jsx("p",{className:"block antialiased font-sans text-[11px] font-medium uppercase text-blue-gray-400",children:"Отзыв к продукту"})}),e.jsx("th",{className:"border-b border-blue-gray-50 py-3 px-6 text-left",children:e.jsx("p",{className:"block antialiased font-sans text-[11px] font-medium uppercase text-blue-gray-400",children:"Имя пользователя"})}),e.jsx("th",{className:"border-b border-blue-gray-50 py-3 px-6 text-left",children:e.jsx("p",{className:"block antialiased font-sans text-[11px] font-medium uppercase text-blue-gray-400",children:"Звёзд"})}),e.jsx("th",{className:"border-b border-blue-gray-50 py-3 px-6 text-left",children:e.jsx("p",{className:"block antialiased font-sans text-[11px] font-medium uppercase text-blue-gray-400",children:"Содержание"})}),e.jsx("th",{className:"border-b border-blue-gray-50 py-3 px-6 text-left",children:e.jsx("p",{className:"block antialiased font-sans text-[11px] font-medium uppercase text-blue-gray-400",children:"Дата создания"})})]})}),e.jsx("tbody",{children:s&&!l?u(s).map(t=>t&&e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-5 border-b border-blue-gray-50",children:e.jsx("button",{onClick:()=>r(v(t._id)),className:"block  antialiased font-sans text-xs font-medium text-blue-gray-600 text-center",children:"Удалить"})}),e.jsx("td",{className:"py-3 px-5 border-b border-blue-gray-50",children:e.jsx("p",{className:"block  antialiased font-sans text-xs font-medium text-blue-gray-600 text-center",children:t.author})}),e.jsx("td",{className:"py-3 px-5 border-b border-blue-gray-50",children:e.jsx("p",{className:"block  antialiased font-sans text-xs font-medium text-blue-gray-600 text-center",children:t.rating})}),e.jsx("td",{className:"py-3 px-5 border-b border-blue-gray-50",children:e.jsx("p",{className:"block antialiased font-sans text-xs font-medium text-blue-gray-600",children:t.text?t.text.split("").splice(0,120).join("")+"...":"-"})}),e.jsx("td",{className:"py-3 px-5 border-b border-blue-gray-50",children:e.jsxs("div",{className:"w-10/12",children:[e.jsx("p",{className:"antialiased font-sans mb-1 block text-xs font-medium text-blue-gray-600",children:k(t.updatedAt)}),e.jsx("div",{className:"flex flex-start bg-blue-gray-50 overflow-hidden w-full rounded-sm font-sans text-xs font-medium h-1",children:e.jsx("div",{className:"flex justify-center items-center h-full bg-gradient-to-tr from-blue-600 to-blue-400 text-white",style:{width:"60%"}})})]})})]},t._id?t._id:"-")):e.jsx("tr",{children:e.jsx("td",{children:e.jsx("div",{className:"p-4 animate-pulse",children:"Идёт загрузка"})})})})]}),s&&!l&&Math.ceil(n(s).length/a)>1&&e.jsx(R,{handleClickPage:p,totalPages:Math.ceil(n(s).length/a)})]})]})})};export{P as default};
