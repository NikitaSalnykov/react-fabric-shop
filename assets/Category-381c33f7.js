import{c as g,u,a as _,b as l,e as f,r as d,f as k,j as s,L as C,P as S,S as $,h as L,i as F,k as E,B,E as z}from"./index-43e67198.js";import{g as M,a as R}from"./productsSelectors-962bcfd5.js";const D=i=>{const o=g.find(a=>a.category===i);if(o)return o.name;console.log(`Category name not found for ${i}`)},I=({title:i})=>{const{category:o}=u(),a=_(),j=l(M),y=l(R),p=l(f),[r,x]=d.useState(l(f)||[]),[m,v]=d.useState(1),c=12,N=e=>{v(e.selected+1)},P=e=>{p.some(t=>t._id===e._id)?(a(F(e._id)),x(r.filter(t=>t._id!==e._id))):(a(E(e)),x([...r,e]))};d.useEffect(()=>{a(k())},[a]);const b=e=>{const t=g.find(w=>w.name===e);if(t)return t.category;console.log(`Category not found for ${e}`)},n=j.filter(e=>e.category===D(o)),h=e=>n.slice((m-1)*c,m*c);return s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"mx-auto max-w-2xl lg:max-w-7xl",children:[s.jsx("h2",{className:"mb-6 text-xl font-bold tracking-tight text-gray-900 sm:text-2xl ",children:i}),h()&&!y?s.jsx("div",{className:" grid grid-cols-2 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:h().map(e=>s.jsxs("div",{className:"relative",children:[s.jsxs(C,{to:`/categories/${o||b(e.category)}/${e._id}`,className:"group",children:[s.jsx("div",{className:"shadow-md h-[200px] md:h-[250px] md:h-300px aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-lg bg-gray-200 xl:aspect-h-8 xl:aspect-w-7",children:s.jsx("img",{src:e.mainPhoto,alt:e.name,className:"h-full w-full object-cover object-center group-hover:opacity-75 sm:h-[280px]"})}),s.jsx("h3",{className:"mt-4 text-sm text-gray-700",children:e.name}),s.jsx(S,{price:e.price,discount:e.discount,orientation:"row",size:"small"})]},e._id),e.discount>0&&s.jsx("div",{className:"absolute top-4 left-4 w-12 h-12 rounded-full bg-red flex justify-center items-center cursor-pointer ",children:s.jsxs("p",{className:"flex justify-center items-center gap-[1px] text-white font-semibold",children:[s.jsx("span",{className:" text-[10px]",children:"-"}),e.discount,s.jsx("span",{className:" text-[10px]",children:"%"})]})}),s.jsx("div",{onClick:()=>P(e),className:`absolute top-4 right-4 w-10 h-10 rounded-full bg-white flex justify-center items-center  ${r.some(t=>t._id===e._id)?" opacity-80":"opacity-40"} hover:opacity-80 cursor-pointer `,children:s.jsx($,{id:"icon-favorite-product",size:22,fill:`${r.some(t=>t._id===e._id)?"red":"gray"}`,stroke:`${r.some(t=>t._id===e._id)?"red":"gray"}`})})]}))}):s.jsx("div",{children:s.jsx(L,{})})]}),Math.ceil(n.length/c)>1&&s.jsx(Pagination,{handleClickPage:N,totalPages:Math.ceil(n.length/c)})]})},A=()=>{const{category:i}=u(),o=g.some(a=>a.category===i);return s.jsx(s.Fragment,{children:o?s.jsxs("div",{className:"container",children:[s.jsx(B,{}),s.jsx(I,{title:"Весь католог:"})]}):s.jsx(z,{text:`Категория "${i}" не найдена`,buttonName:"Все категории",link:"/categories"})})};export{A as default};
